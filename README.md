

# ğŸ“˜ **README.md (English, with badges + GIFs + run instructions)**

---

<div align="center">

# ğŸ›©ï¸ **Cooperative UAV Inspection System**

### *Autonomous Multi-Drone System for Fuel Theft Detection Using Computer Vision*

![Python](https://img.shields.io/badge/Python-3.10-blue?logo=python)
![YOLO](https://img.shields.io/badge/YOLOv8-Segmentation-orange)
![DJITelloPy](https://img.shields.io/badge/DJI-Tello_API-0A85FF?logo=dji)

</div>

---

# ğŸ“Œ **Project Overview**

This repository contains a **two-drone cooperative inspection system** designed to detect potential fuel theft activity in a simulated industrial environment.

The system uses **computer vision (YOLO segmentation)**, **autonomous navigation**, and **multi-agent coordination** to identify:

* Pipes
* Gas tanks & pressure vessels
* Trucks
* Fire / leak simulation
* Other industrial elements

Drone 1 performs an autonomous perimeter inspection and logs risk zones into a waypoint file.
Drone 2 then loads these waypoints, travels only to risky points, and performs a detailed inspection using visual PD control.

This project was developed for the **Final Challenge: Computer Vision & Drone Control** at TecnolÃ³gico de Monterrey.

---

# ğŸ›°ï¸ **Drone Roles**

## **ğŸš Drone 1 â€” Perimeter Inspector**

* Follows a predefined square route.
* Uses YOLO segmentation (best.pt) to detect:

  * Pipes, Tanks, Fire, Trucks, Structures.
* Applies PD control for pipe centering.
* Registers fire detections by segment.
* Creates `waypoints.csv` ordered by fire severity.
* Serves as the scouting drone.

ğŸ‘‡ Visualization of Drone 1 control (example): <img src="assets/d1_control.png" width="700"/>

---

## **ğŸ”¥ Drone 2 â€” Risk Inspector**

* Loads `waypoints.csv` generated by Drone 1.
* Performs waypoint-based navigation.
* Uses YOLO to detect and center on Fire objects.
* Applies PD control in **X and Y**.
* Executes vertical verification maneuver:

  * Lower 40 cm
  * Raise 40 cm
* Returns home after completing all points.

ğŸ‘‡ Example control visualization: <img src="assets/d2_control.png" width="700"/>

---

# ğŸ“¦ **Repository Structure**

```
ğŸ“ root/
â”‚â”€â”€ drone1_firepixels.py        # Autonomous scan + fire detection + waypoint creation
â”‚â”€â”€ waypoints_fire.py           # Drone 2 navigation using generated waypoints
â”‚â”€â”€ dron1Graphs.py              # Control graphs for Drone 1
â”‚â”€â”€ dron2Graphs.py              # Control graphs for Drone 2
â”‚â”€â”€ best.pt                     # YOLO segmentation model
â”‚â”€â”€ waypoints.csv               # Risk points generated by Drone 1
â”‚â”€â”€ IEEE_Journal_Paper.pdf      # Final technical report
â”‚â”€â”€ README.md                   # This file
â”‚â”€â”€ assets/
     â”œâ”€â”€ drone1.gif
     â”œâ”€â”€ drone2.gif
     â”œâ”€â”€ d1_control.png
     â”œâ”€â”€ d2_control.png
```

---

# âš™ï¸ **Installation & Environment Setup**

To ensure reproducibility, the project should be run using a **Python virtual environment**.

---

## **1ï¸âƒ£ Create a virtual environment**

```bash
python3 -m venv uav_env
source uav_env/bin/activate       # Linux/Mac
uav_env\Scripts\activate          # Windows
```

---

## **2ï¸âƒ£ Install dependencies**

```bash
pip install -r requirements.txt
```

If you donâ€™t have a `requirements.txt`, use this:

```txt
djitellopy
opencv-python
ultralytics
numpy
matplotlib
```

---

## **3ï¸âƒ£ Connect the DJI Tello**

1. Turn on your drone
2. Connect your PC to its WiFi network
3. Test connection:

```python
from djitellopy import Tello
t = Tello()
t.connect()
print(t.get_battery())
```

---

# ğŸš€ **How to Run the System**

---

## **STEP 1 â€” Run Drone 1 (autonomous perimeter scan)**

```bash
python drone1_firepixels.py
```

Drone 1 will:

âœ” Scan the perimeter
âœ” Detect fire & pipes
âœ” Apply PD corrections
âœ” Log risk segments
âœ” Generate `waypoints.csv`

Output example:

```
waypoints.csv saved
Detected 4 fire zones
Sorted by fire intensity
```

---

## **STEP 2 â€” Run Drone 2 (targeted inspection)**

```bash
python waypoints_fire.py
```

Drone 2 will:

âœ” Load waypoint file
âœ” Navigate only to risk areas
âœ” Detect and center on Fire
âœ” Perform vertical inspection maneuver
âœ” Return to base

---

## **STEP 3 â€” Generate Control Graphs (optional)**

For Drone 1:

```bash
python dron1Graphs.py
```

For Drone 2:

```bash
python dron2Graphs.py
```

This produces plots such as Error, PD Manipulation, Reference vs Measurement.

---

# ğŸ” **YOLO Segmentation Model**

This project uses a custom YOLOv8 segmentation model (`best.pt`), trained on:

* Pipes
* Fire
* Industrial structures
* Trucks
* Tanks
* Null class

You can retrain the model using Roboflow or Ultralytics CLI.

---

# ğŸ§© **Architecture Overview**

```
 DRONE 1 (Scout)
     â”œâ”€ YOLO segmentation
     â”œâ”€ Pipe & fire detection
     â”œâ”€ PD control (X & yaw)
     â””â”€ Generates waypoints.csv
                â†“
 waypoints.csv (shared risk map)
                â†“
 DRONE 2 (Inspector)
     â”œâ”€ Waypoint navigation
     â”œâ”€ Fire detection
     â”œâ”€ PD control (X & Y)
     â””â”€ Vertical verification maneuver
```

---

# ğŸ“ **Technical Report**

A detailed academic description is included as:

ğŸ“„ **IEEE_Journal_Paper.pdf**

---

# ğŸ‘¨â€ğŸ’» Team

* Jeffry Emanuel Granados Johnson â€” Technical Lead
* Karina Fernanda Maldonado Murillo â€” Perception
* Juan JosÃ© Castillo GonzÃ¡lez â€” Control
* Bruno BermÃºdez Rosas â€” Integration & Testing
* Francisco GarcÃ­a Uicab â€” Documentation & Models

---

# ğŸ“œ License

MIT License â€“ free to use and modify.

---

